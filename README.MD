# QQBot

--- 

ğŸš§***é¡¹ç›®æ­£åœ¨ç»´æŠ¤ä¸­ï¼Œè¯·å‹¿ä½¿ç”¨***ğŸš§   

ä½¿ç”¨QQå®˜æ–¹api, 
     
java-sdkä½¿ç”¨`kloping/qqpd-bot-java`
> [!IMPORTANT]
> è¯·æ³¨æ„:æœ¬é¡¹ç›®ä»ç„¶åœ¨***æ—©æœŸå¼€å‘***ä¸­,å¦‚æœ‰bug,æ¬¢è¿å¡«å†™`issue`æˆ–è€…å‘èµ·`Pull request`.

<details> <summary>ç›®å½•</summary>

- [å‘½ä»¤æ³¨å†Œ](#å‘½ä»¤æ³¨å†Œ)
- [é…ç½®æ–‡ä»¶](#é…ç½®æ–‡ä»¶)
- [å¦‚ä½•ä½¿ç”¨](#å¦‚ä½•ä½¿ç”¨)

</details>

## å‘½ä»¤æ³¨å†Œ

1,å‘½ä»¤

```java

@Author("qfys521")//ç±»æ³¨è§£,ä½œè€…qfys521
public class Example {
    @Usage("/hello")
    @Command("/hello")//å‘½ä»¤æ³¨è§£,/helloå‘½ä»¤
    public void hello(MessageEvent<?, ?> event) {
        event.send("Hello World");
    }
}
```

2,æ³¨å†Œ

```java
//BotApplication.java

private static void regCmd() {
    RegisterCommand.registerCommand(new Class[]{
            Interactor.class,//Interactor.javaå‘½ä»¤
            CoreInteractors.class,//CoreInteractor.javaå‘½ä»¤
            Example.class//ç¤ºä¾‹å‘½ä»¤
    });
}
```

## é…ç½®æ–‡ä»¶

é…ç½®æ–‡ä»¶æœ‰3ä¸ªç±»,åˆ†åˆ«ä¸º`CoreConfigApplication` , `DataConfigApplication` å’Œ `OtherDataConfigApplication`
> åœ¨ä½¿ç”¨æ—¶,å¯ä»¥ä½¿ç”¨`DataConfigApplication`.

```java

@Data //lombok annotation
class CountData {
    int count;
}
```

```java
@Command("/count")
@Usage("/count")
public vote count(MessageEvent<?, ?> event) {
    ConfigApplication configApplication = new DataConfigApplication(new CountData(), "count.json");// path: ./data/data/path.to.you.class.CountData
    CountData countData = (CountData) configApplication.getDataOrFail();
    event.send("count is " + countData.getCount);
    configApplication.saveOrFail();

    //File file = configApplication.getFile;
}
```

## å¦‚ä½•ä½¿ç”¨

1,åœ¨å¼€å‘ä¸­ä½¿ç”¨
```groovy
//æ·»åŠ mavenä»“åº“
repositories {
    maven{
        name = "CodeThink-cn"
        url = "https://nexus.codethink.cn/repository/maven-releases/"
    }
}
//æ·»åŠ ä¾èµ–
dependencies {
    compileOnly 'cn.qfys521:qqbot:1.0.0:all@jar'
}
```

2,æ„å»ºå¹¶è¿è¡Œ

```shell
# Linux
./gradlew shadowJar
# Build in ./build/libs/qqbot-${version}-all.jar
java -jar qqbot-${version}-all.jar
# ${version} å¡«å…¥ä½ çš„ç‰ˆæœ¬
```
